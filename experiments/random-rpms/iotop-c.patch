diff --git a/src/views.c b/src/views.c
index 78bc076..bcb3527 100644
--- a/src/views.c
+++ b/src/views.c
@@ -216,13 +216,14 @@ inline int create_diff(struct xxxid_stats_arr *cs,struct xxxid_stats_arr *ps,dou
 inline void humanize_val(double *value,char *str,int allow_accum) {
 	const char *u="BKMGTPEZY";
 	size_t p=0;
+	size_t u_length = strlen(u);
 
 	if (config.f.kilobytes) {
 		p=1;
 		*value/=(double)config.f.base;
 	} else {
 		while (*value>config.f.base*config.f.threshold) {
-			if (p+1<strlen(u)) {
+			if (p+1<u_length) {
 				*value/=(double)config.f.base;
 				p++;
 			} else
