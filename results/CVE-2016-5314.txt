[K	

####################################################################################################

	Crochet - Horizontal Code Edit Transfer

####################################################################################################
[K
====================================================================================================

	Initializing project for Transfer
====================================================================================================

[K
	loading configuration
	__________________________________________________________________________________________

[K	reading configuration values
[K
	set environment
	__________________________________________________________________________________________

[K	setting environment values
[K
====================================================================================================

	Building Projects
====================================================================================================

[K
	building binaries
	__________________________________________________________________________________________

[K
		restoring projects
		------------------------------------------------------------------------------------------

[K		/libtiff/CVE-2016-5314/libtiff-4.0.6/
[K		/libtiff/CVE-2016-5314/libtiff-4.0.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7-patch/
[K
		cleaning projects
		------------------------------------------------------------------------------------------

[K		/libtiff/CVE-2016-5314/libtiff-4.0.6/
[K		/libtiff/CVE-2016-5314/libtiff-4.0.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7-patch/
[K
		configuring projects
		------------------------------------------------------------------------------------------

[K		/libtiff/CVE-2016-5314/libtiff-4.0.6/
[K		/libtiff/CVE-2016-5314/libtiff-4.0.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7-patch/
[K
		building projects
		------------------------------------------------------------------------------------------

[K		/libtiff/CVE-2016-5314/libtiff-4.0.6/
[K		/libtiff/CVE-2016-5314/libtiff-4.0.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7/
[K		/libtiff/CVE-2016-5314/libtiff-3.9.7-patch/
[K
	Successful building binaries, after 137.94861793518066 seconds.
[K
====================================================================================================

	Analysing Changes
====================================================================================================

[K
	analysing source diff
	__________________________________________________________________________________________

[K		finding changed files...
[K
		analysing header files
		------------------------------------------------------------------------------------------

[K			extracting changed header files...
[K			header files:
[K				-none-
[K
		analysing C/CPP source files
		------------------------------------------------------------------------------------------

[K			extracting changed c/cpp files...
[K			source files:
[K				/libtiff/CVE-2016-5314/libtiff-4.0.6/libtiff/tif_pixarlog.c
[K
		analysing changed code segments
		------------------------------------------------------------------------------------------

[K			collecting diff info...
[K			/libtiff/CVE-2016-5314/libtiff-4.0.6/:
[K				PixarLogSetupDecode in Pa/libtiff/tif_pixarlog.c
[K				PixarLogSetupDecode 670-713[K[K				PixarLogDecode in Pa/libtiff/tif_pixarlog.c
[K				PixarLogDecode 740-872[K[K			/libtiff/CVE-2016-5314/libtiff-4.0.7/:
[K				PixarLogSetupDecode in Pb/libtiff/tif_pixarlog.c
[K				PixarLogSetupDecode 671-715[K[K				PixarLogDecode in Pb/libtiff/tif_pixarlog.c
[K				PixarLogDecode 742-880[K[K
	Successful analysing source diff, after 1.0811567306518555 seconds.
[K
	analysing ast diff
	__________________________________________________________________________________________

[K
		/libtiff/CVE-2016-5314/libtiff-4.0.6/libtiff/tif_pixarlog.c
		------------------------------------------------------------------------------------------

[K		generating AST script
[K		line number:696
[K			filtering AST script by merging and grouping
[K			merging AST script
[K		line number:461
[K			filtering AST script by merging and grouping
[K			merging AST script
[K		line number:783
[K			filtering AST script by merging and grouping
[K			merging AST script
[K
	Successful analysing ast diff, after 2.1429262161254883 seconds.
[K
====================================================================================================

	Clone Detection
====================================================================================================

[K
	generating vectors for target
	__________________________________________________________________________________________

[K
		Generating vector files for all functions in Target
		------------------------------------------------------------------------------------------

[K			generating vectors for *\.c files in Pc...
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/tools/ycbcr.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/tools/tiffgt.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/tools/tiffinfoce.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/tools/tiff2pdf.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/tools/sgisv.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/tools/sgi2tiff.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_msdos.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_wince.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_acorn.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_vms.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_win3.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_apple.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_win32.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_atari.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/mkspans.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/port/strtoul.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/port/strcasecmp.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/port/getopt.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/port/lfind.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/win_dib/tiff2dib.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/dbs/xtiff/xtiff.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/mac-cw/mac_main.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/mac-cw/mkg3_main.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/mfs/mfs_file.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/ras/tif2ras.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/ras/ras2tif.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/pds/tif_pdsdirwrite.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/pds/tif_imageiter.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/pds/tif_pdsdirread.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/tags/xtif_dir.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/tags/listtif.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/tags/maketif.c
[K				Failed parsing AST for file:
			/libtiff/CVE-2016-5314/libtiff-3.9.7/contrib/mac-mpw/mactrans.c
[K
	Successful generating vectors for target, after 153.0472309589386 seconds.
[K
	finding clones in target
	__________________________________________________________________________________________

[K
		Finding clone functions in Target
		------------------------------------------------------------------------------------------

[K		checking vectors for C files in Pa...
[K		checking vectors for C files in Pc...
[K		Variable mapping...

[K		Possible match for PixarLogSetupDecode in $Pa/libtiff/tif_pixarlog.c:
[K			Function: PixarLogSetupDecode in $Pc/libtiff/tif_pixarlog.c
[K			Distance: 0.0006749875186753186

[K		Variable mapping from PixarLogSetupDecode to PixarLogSetupDecode:
[K			t td -> t td
[K			modul module -> modul module
[K			const char [20] module -> modul module
[K			_TIFFmallo _TIFFmalloc -> _TIFFmallo _TIFFmalloc
[K			tbuf_siz tbuf_size -> tbuf_siz tbuf_size
[K			tmsize_t tbuf_size -> tbuf_siz tbuf_size
[K			PixarLogState * sp -> s sp
[K			s sp -> s sp
[K			TIFFDirectory * td -> t td
[K			ti tif -> TIFF * tif
[K			PixarLogGuessDataFm PixarLogGuessDataFmt -> PixarLogGuessDataFm PixarLogGuessDataFmt
[K			TIFFErrorEx TIFFErrorExt -> TIFFErrorEx TIFFErrorExt
[K			TIFF * tif -> TIFF * tif
[K			_TIFFNoPostDecod _TIFFNoPostDecode -> _TIFFNoPostDecod _TIFFNoPostDecode
[K			multiply_m multiply_ms -> multipl multiply
[K			add_m add_ms -> #UNKNOWN#
[K		Possible match for PixarLogSetupDecode in $Pa/libtiff/tif_pixarlog.c:
[K			Function: PixarLogSetupEncode in $Pc/libtiff/tif_pixarlog.c
[K			Distance: 0.0009531602278547228

[K		Variable mapping from PixarLogSetupDecode to PixarLogSetupEncode:
[K			t td -> t td
[K			modul module -> modul module
[K			const char [20] module -> modul module
[K			_TIFFmallo _TIFFmalloc -> _TIFFmallo _TIFFmalloc
[K			tbuf_siz tbuf_size -> tbuf_siz tbuf_size
[K			tmsize_t tbuf_size -> tbuf_siz tbuf_size
[K			PixarLogState * sp -> s sp
[K			s sp -> s sp
[K			TIFFDirectory * td -> t td
[K			ti tif -> TIFF * tif
[K			PixarLogGuessDataFm PixarLogGuessDataFmt -> PixarLogGuessDataFm PixarLogGuessDataFmt
[K			TIFFErrorEx TIFFErrorExt -> TIFFErrorEx TIFFErrorExt
[K			TIFF * tif -> TIFF * tif
[K			_TIFFNoPostDecod _TIFFNoPostDecode -> #UNKNOWN#
[K			multiply_m multiply_ms -> multipl multiply
[K			add_m add_ms -> #UNKNOWN#
[K		Best match for PixarLogSetupDecode in $Pa/libtiff/tif_pixarlog.c:
[K			Function: PixarLogSetupDecode in $Pc/libtiff/tif_pixarlog.c
[K			Distance: 0.0006749875186753186

[K		Possible match for PixarLogDecode in $Pa/libtiff/tif_pixarlog.c:
[K			Function: PixarLogDecode in $Pc/libtiff/tif_pixarlog.c
[K			Distance: 0.001697054662939647

[K		Variable mapping from PixarLogDecode to PixarLogDecode:
[K			uint16 s -> #UNKNOWN#
[K			t td -> t td
[K			modul module -> modul module
[K			tmsize_t nsamples -> nsample nsamples
[K			uint8 * op -> tidata_t op
[K			o op -> tidata_t op
[K			stat state -> stat state
[K			uint16 * up -> u up
[K			TIFFSwabArrayOfShor TIFFSwabArrayOfShort -> TIFFSwabArrayOfShor TIFFSwabArrayOfShort
[K			inflat inflate -> inflat inflate
[K			horizontalAccumulate8abg horizontalAccumulate8abgr -> horizontalAccumulate8abg horizontalAccumulate8abgr
[K			ti tif -> TIFF * tif
[K			i ->  i
[K			TIFFErrorEx TIFFErrorExt -> TIFFErrorEx TIFFErrorExt
[K			PixarLogState * sp -> s sp
[K			tmsize_t occ -> tsize_t occ
[K			horizontalAccumulate horizontalAccumulate8 -> horizontalAccumulate horizontalAccumulate8
[K			horizontalAccumulate1 horizontalAccumulate11 -> horizontalAccumulate1 horizontalAccumulate11
[K			horizontalAccumulate horizontalAccumulateF -> horizontalAccumulate horizontalAccumulateF
[K			const char [15] module -> modul module
[K			u up -> u up
[K			horizontalAccumulate1 horizontalAccumulate12 -> horizontalAccumulate1 horizontalAccumulate12
[K			nsample nsamples -> nsample nsamples
[K			int state -> stat state
[K			int llen -> lle llen
[K			s sp -> s sp
[K			oc occ -> tsize_t occ
[K			TIFFDirectory * td -> t td
[K			TIFFWarningEx TIFFWarningExt -> #UNKNOWN#
[K			inflateSyn inflateSync -> inflateSyn inflateSync
[K			tmsize_t i ->  i
[K			s -> #UNKNOWN#
[K			TIFF * tif -> TIFF * tif
[K			lle llen -> lle llen
[K			horizontalAccumulate1 horizontalAccumulate16 -> horizontalAccumulate1 horizontalAccumulate16
[K		Best match for PixarLogDecode in $Pa/libtiff/tif_pixarlog.c:
[K			Function: PixarLogDecode in $Pc/libtiff/tif_pixarlog.c
[K			Distance: 0.001697054662939647

[K
	Successful finding clones in target, after 5.501224994659424 seconds.
[K
====================================================================================================

	Generating GumTree script for patch
====================================================================================================

[K
	Starting generating script for header files...
	__________________________________________________________________________________________

[K
	Successful generating script for header files, after 6.723403930664062e-05 seconds.
[K
	Starting generating script for C files...
	__________________________________________________________________________________________

[K	Generating edit script: tif_pixarlog.c to tif_pixarlog.c...
[K	Generating edit script: tif_pixarlog.c to tif_pixarlog.c...
[K
	Successful generating script for C files, after 1.919482707977295 seconds.
[K
====================================================================================================

	Variable Mapping
====================================================================================================

[K
	Variable mapping for header files
	__________________________________________________________________________________________

[K		 -nothing-to-do
[K
	Variable mapping for C files
	__________________________________________________________________________________________

[K	Generating mapping: tif_pixarlog.c to tif_pixarlog.c...
[K
====================================================================================================

	Translate GumTree Script
====================================================================================================

[K
	Translating scripts for header files
	__________________________________________________________________________________________

[K
	Translating scripts for C files
	__________________________________________________________________________________________

[K	Generating JSON temp files for each pertinent file...
[K			Clang AST parse /libtiff/CVE-2016-5314/libtiff-4.0.6/libtiff/tif_pixarlog.c in Pa...
[K			Clang AST parse /libtiff/CVE-2016-5314/libtiff-4.0.7/libtiff/tif_pixarlog.c in Pb...
[K			Clang AST parse /libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_pixarlog.c in Pc...
[K	Failed at locating match for IfStmt(6263)
[K	Trying to get pos anyway.
[K
====================================================================================================

	Applying transformation
====================================================================================================

[K
	Transforming file /libtiff/CVE-2016-5314/libtiff-3.9.7/libtiff/tif_pixarlog.c
	__________________________________________________________________________________________

[K	Original AST script
[K			AST Script:
[K				 Insert FieldDecl(5166) RecordDecl(5161) 2
[K				 Insert TypeLoc(5167) FieldDecl(5166) 0
[K				 Update TypedefDecl(5199) TypedefDecl(5201)
[K				 Insert BinaryOperator(6019) CompoundStmt(5931) 12
[K				 Insert MemberExpr(6020) BinaryOperator(6019) 0
[K				 Insert DeclRefExpr(6021) MemberExpr(6020) 0
[K				 Insert DeclRefExpr(6022) BinaryOperator(6019) 1
[K				 Insert IfStmt(6288) CompoundStmt(6161) 15
[K				 Insert BinaryOperator(6289) IfStmt(6288) 0
[K				 Insert MemberExpr(6290) BinaryOperator(6289) 0
[K				 Insert MemberExpr(6291) MemberExpr(6290) 0
[K				 Insert DeclRefExpr(6292) MemberExpr(6291) 0
[K				 Insert MemberExpr(6293) BinaryOperator(6289) 1
[K				 Insert DeclRefExpr(6294) MemberExpr(6293) 0
[K				 Insert CompoundStmt(6295) IfStmt(6288) 1
[K				 Insert CallExpr(6296) CompoundStmt(6295) 0
[K				 Insert DeclRefExpr(6297) CallExpr(6296) 0
[K				 Insert MemberExpr(6298) CallExpr(6296) 1
[K				 Insert DeclRefExpr(6299) MemberExpr(6298) 0
[K				 Insert DeclRefExpr(6300) CallExpr(6296) 2
[K				 Insert StringLiteral(6301) CallExpr(6296) 3
[K				 Insert ReturnStmt(6302) CompoundStmt(6295) 1
[K				 Insert ParenExpr(6303) ReturnStmt(6302) 0
[K				 Insert IntegerLiteral(6304) ParenExpr(6303) 0
[K	Generated AST script
[K			AST Script:
[K				 Update TypedefDecl(4616) to TypedefDecl(5201)
[K				 Insert FieldDecl(5166) into RecordDecl(4578) at 2
[K				 Insert BinaryOperator(6019) into CompoundStmt(5287) at 11
[K				 Insert IfStmt(6288) into CompoundStmt(5472) at 15
[K	Original Patch
[K		461a462
[K		> 	tmsize_t		tbuf_size; /* only set/used on reading for now */
[K		696a698
[K		> 	sp->tbuf_size = tbuf_size;
[K		783a786,791
[K		> 		return (0);
[K		> 	}
[K		> 	/* Check that we will not fill more than what was allocated */
[K		> 	if (sp->stream.avail_out > sp->tbuf_size)
[K		> 	{
[K		> 		TIFFErrorExt(tif->tif_clientdata, module, "sp->stream.avail_out > sp->tbuf_size");
[K	Generated Patch
[K		457c457
[K		< 	uint16			*tbuf;
[K		---
[K		> 	 tsize_t		tbuf_size; uint16			*tbuf;
[K		668a669,670
[K		>  sp->tbuf_size = tbuf_size;
[K		>
[K		768a771,776
[K		>  if (sp->stream.avail_out > sp->tbuf_size)
[K		> 	{
[K		> 		TIFFErrorExt(tif->tif_clientdata, module, "sp->stream.avail_out > sp->tbuf_size");
[K		> 		return (0);
[K		> 	}
[K		>
[K
	Successful transformation
[K	
Run time statistics:
-----------------------

[K	Initialization: 0.03856015205383301 seconds
[K	Build Analysis: 137.9495711326599 seconds
[K	Diff Analysis: 3.2252233028411865 seconds
[K	Clone Analysis: 1.9198851585388184 seconds
[K	Map Generation: 4.6697351932525635 seconds
[K
Crochet finished successfully after 311.32557916641235 seconds

