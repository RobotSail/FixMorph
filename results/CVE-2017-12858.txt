[K	

####################################################################################################

	Crochet - Horizontal Code Edit Transfer

####################################################################################################
[K
====================================================================================================

	Initializing project for Transfer
====================================================================================================

[K
	loading configuration
	__________________________________________________________________________________________

[K	reading configuration values
[K
	set environment
	__________________________________________________________________________________________

[K	setting environment values
[K
====================================================================================================

	Building Projects
====================================================================================================

[K
	building binaries
	__________________________________________________________________________________________

[K
		restoring projects
		------------------------------------------------------------------------------------------

[K		/libzip/CVE-2017-12858/libzip-1.3.0/
[K		/libzip/CVE-2017-12858/libzip-1.3.1/
[K		/libzip/CVE-2017-12858/libzip-1.2.0/
[K		/libzip/CVE-2017-12858/libzip-1.2.0-patch/
[K
		cleaning projects
		------------------------------------------------------------------------------------------

[K		/libzip/CVE-2017-12858/libzip-1.3.0/
[K		/libzip/CVE-2017-12858/libzip-1.3.1/
[K		/libzip/CVE-2017-12858/libzip-1.2.0/
[K		/libzip/CVE-2017-12858/libzip-1.2.0-patch/
[K
		configuring projects
		------------------------------------------------------------------------------------------

[K		/libzip/CVE-2017-12858/libzip-1.3.0/
[K		/libzip/CVE-2017-12858/libzip-1.3.1/
[K		/libzip/CVE-2017-12858/libzip-1.2.0/
[K		/libzip/CVE-2017-12858/libzip-1.2.0-patch/
[K
		building projects
		------------------------------------------------------------------------------------------

[K		/libzip/CVE-2017-12858/libzip-1.3.0/
[K		/libzip/CVE-2017-12858/libzip-1.3.1/
[K		/libzip/CVE-2017-12858/libzip-1.2.0/
[K		/libzip/CVE-2017-12858/libzip-1.2.0-patch/
[K
	Successful building binaries, after 153.1452841758728 seconds.
[K
====================================================================================================

	Analysing Changes
====================================================================================================

[K
	analysing source diff
	__________________________________________________________________________________________

[K		finding changed files...
[K
		analysing header files
		------------------------------------------------------------------------------------------

[K			extracting changed header files...
[K			header files:
[K				-none-
[K
		analysing C/CPP source files
		------------------------------------------------------------------------------------------

[K			extracting changed c/cpp files...
[K			source files:
[K				/libzip/CVE-2017-12858/libzip-1.3.0/lib/zip_dirent.c
[K
		analysing changed code segments
		------------------------------------------------------------------------------------------

[K			collecting diff info...
[K			/libzip/CVE-2017-12858/libzip-1.3.0/:
[K				_zip_dirent_read in Pa/lib/zip_dirent.c
[K				_zip_dirent_read 339-591[K[K			/libzip/CVE-2017-12858/libzip-1.3.1/:
[K				_zip_dirent_read in Pb/lib/zip_dirent.c
[K				_zip_dirent_read 339-588[K[K
	Successful analysing source diff, after 0.6860156059265137 seconds.
[K
	analysing ast diff
	__________________________________________________________________________________________

[K
		/libzip/CVE-2017-12858/libzip-1.3.0/lib/zip_dirent.c
		------------------------------------------------------------------------------------------

[K		generating AST script
[K		line number:582
[K
	Successful analysing ast diff, after 1.2716054916381836 seconds.
[K
====================================================================================================

	Clone Detection
====================================================================================================

[K
	generating vectors for target
	__________________________________________________________________________________________

[K
		Generating vector files for all functions in Target
		------------------------------------------------------------------------------------------

[K			generating vectors for *\.c files in Pc...
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/src/getopt.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/zip_source_win32a.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/zip_source_win32utf8.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/zip_random_win32.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/zip_source_win32handle.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/mkstemp.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/aeskey.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/prng.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/aescrypt.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/sha1.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/main.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/fileenc.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/aestab.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/hmac.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/gladman-fcrypt/pwd2key.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/lib/zip_source_win32w.c
[K				Failed parsing AST for file:
			/libzip/CVE-2017-12858/libzip-1.2.0/examples/windows-open.c
[K
	Successful generating vectors for target, after 27.103386878967285 seconds.
[K
	finding clones in target
	__________________________________________________________________________________________

[K
		Finding clone functions in Target
		------------------------------------------------------------------------------------------

[K		checking vectors for C files in Pa...
[K		checking vectors for C files in Pc...
[K		Variable mapping...

[K		Possible match for _zip_dirent_read in $Pa/lib/zip_dirent.c:
[K			Function: _zip_dirent_read in $Pc/lib/zip_dirent.c
[K			Distance: 0.0

[K		Variable mapping from _zip_dirent_read to _zip_dirent_read:
[K			zip_dirent_t * zde -> zip_dirent_t * zde
[K			_zip_buffer_get_1 _zip_buffer_get_16 -> _zip_buffer_get_1 _zip_buffer_get_16
[K			zd zde -> zip_dirent_t * zde
[K			erro error -> zip_error_t * error
[K			_zip_buffer_get_3 _zip_buffer_get_32 -> _zip_buffer_get_3 _zip_buffer_get_32
[K			loca local -> loca local
[K			dosdat dosdate -> dosdat dosdate
[K			sr src -> zip_source_t * src
[K			_zip_buffer_new_from_sourc _zip_buffer_new_from_source -> _zip_buffer_new_from_sourc _zip_buffer_new_from_source
[K			_zip_buffer_ge _zip_buffer_get -> _zip_buffer_ge _zip_buffer_get
[K			zip_error_t * error -> zip_error_t * error
[K			_zip_dirent_process_winzip_ae _zip_dirent_process_winzip_aes -> _zip_dirent_process_winzip_ae _zip_dirent_process_winzip_aes
[K			variable_siz variable_size -> variable_siz variable_size
[K			zip_buffer_t * buffer -> zip_buffer_t * buffer
[K			fre free -> fre free
[K			_zip_buffer_fre _zip_buffer_free -> _zip_buffer_fre _zip_buffer_free
[K			got_le got_len -> got_le got_len
[K			bu buf -> bu buf
[K			memcm memcmp -> memcm memcmp
[K			zip_uint16_t dostime -> dostim dostime
[K			zip_uint16_t dosdate -> dosdat dosdate
[K			comment_le comment_len -> comment_le comment_len
[K			zip_source_t * src -> zip_source_t * src
[K			e ef -> e ef
[K			_zip_guess_encodin _zip_guess_encoding -> _zip_guess_encodin _zip_guess_encoding
[K			zip_error_se zip_error_set -> zip_error_se zip_error_set
[K			zip_uint32_t size -> siz size
[K			filename_le filename_len -> filename_le filename_len
[K			ef_le ef_len -> ef_le ef_len
[K			siz size -> siz size
[K			ef_buffe ef_buffer -> ef_buffe ef_buffer
[K			_zip_buffer_o _zip_buffer_ok -> _zip_buffer_o _zip_buffer_ok
[K			_zip_dirent_process_ef_utf_ _zip_dirent_process_ef_utf_8 -> _zip_dirent_process_ef_utf_ _zip_dirent_process_ef_utf_8
[K			zip_error_code_zi zip_error_code_zip -> zip_error_code_zi zip_error_code_zip
[K			zip_uint16_t filename_len -> filename_le filename_len
[K			_zip_ef_remove_interna _zip_ef_remove_internal -> _zip_ef_remove_interna _zip_ef_remove_internal
[K			_zip_buffer_ne _zip_buffer_new -> _zip_buffer_ne _zip_buffer_new
[K			_zip_buffer_get_6 _zip_buffer_get_64 -> _zip_buffer_get_6 _zip_buffer_get_64
[K			ZIP_ENCODING_ERRO ZIP_ENCODING_ERROR -> ZIP_ENCODING_ERRO ZIP_ENCODING_ERROR
[K			const zip_uint8_t * ef -> e ef
[K			zip_uint16_t got_len -> got_le got_len
[K			from_buffe from_buffer -> from_buffe from_buffer
[K			_zip_ef_get_by_i _zip_ef_get_by_id -> _zip_ef_get_by_i _zip_ef_get_by_id
[K			_zip_dirent_ini _zip_dirent_init -> _zip_dirent_ini _zip_dirent_init
[K			zip_uint16_t comment_len -> comment_le comment_len
[K			dostim dostime -> dostim dostime
[K			_zip_d2u_tim _zip_d2u_time -> _zip_d2u_tim _zip_d2u_time
[K			buffe buffer -> zip_buffer_t * buffer
[K			zip_uint8_t [46] buf -> bu buf
[K			zip_uint8_t * ef -> e ef
[K			zip_buffer_t * ef_buffer -> ef_buffe ef_buffer
[K			_zip_buffer_ski _zip_buffer_skip -> _zip_buffer_ski _zip_buffer_skip
[K			_zip_read_strin _zip_read_string -> _zip_read_strin _zip_read_string
[K			_zip_buffer_eo _zip_buffer_eof -> _zip_buffer_eo _zip_buffer_eof
[K			zip_uint16_t ef_len -> ef_le ef_len
[K			ZIP_ENCODING_UTF8_KNOW ZIP_ENCODING_UTF8_KNOWN -> ZIP_ENCODING_UTF8_KNOW ZIP_ENCODING_UTF8_KNOWN
[K			_zip_ef_pars _zip_ef_parse -> _zip_ef_pars _zip_ef_parse
[K			zip_uint32_t variable_size -> variable_siz variable_size
[K			_zip_buffer_lef _zip_buffer_left -> _zip_buffer_lef _zip_buffer_left
[K			_zip_read_dat _zip_read_data -> _zip_read_dat _zip_read_data
[K		Best match for _zip_dirent_read in $Pa/lib/zip_dirent.c:
[K			Function: _zip_dirent_read in $Pc/lib/zip_dirent.c
[K			Distance: 0.0

[K
	Successful finding clones in target, after 1.1066219806671143 seconds.
[K
====================================================================================================

	Generating GumTree script for patch
====================================================================================================

[K
	Starting generating script for header files...
	__________________________________________________________________________________________

[K
	Successful generating script for header files, after 7.033348083496094e-05 seconds.
[K
	Starting generating script for C files...
	__________________________________________________________________________________________

[K	Generating edit script: zip_dirent.c to zip_dirent.c...
[K
	Successful generating script for C files, after 1.3444478511810303 seconds.
[K
====================================================================================================

	Variable Mapping
====================================================================================================

[K
	Variable mapping for header files
	__________________________________________________________________________________________

[K		 -nothing-to-do
[K
	Variable mapping for C files
	__________________________________________________________________________________________

[K	Generating mapping: zip_dirent.c to zip_dirent.c...
[K
====================================================================================================

	Translate GumTree Script
====================================================================================================

[K
	Translating scripts for header files
	__________________________________________________________________________________________

[K
	Translating scripts for C files
	__________________________________________________________________________________________

[K	Generating JSON temp files for each pertinent file...
[K			Clang AST parse /libzip/CVE-2017-12858/libzip-1.3.0/lib/zip_dirent.c in Pa...
[K			Clang AST parse /libzip/CVE-2017-12858/libzip-1.3.1/lib/zip_dirent.c in Pb...
[K			Clang AST parse /libzip/CVE-2017-12858/libzip-1.2.0/lib/zip_dirent.c in Pc...
[K
====================================================================================================

	Applying transformation
====================================================================================================

[K
	Transforming file /libzip/CVE-2017-12858/libzip-1.2.0/lib/zip_dirent.c
	__________________________________________________________________________________________

[K	Original AST script
[K			AST Script:
[K				 Delete IfStmt(4567)
[K				 Delete UnaryOperator(4568)
[K				 Delete DeclRefExpr(4569)
[K				 Delete CompoundStmt(4570)
[K				 Delete CallExpr(4571)
[K				 Delete DeclRefExpr(4572)
[K				 Delete DeclRefExpr(4573)
[K	Generated AST script
[K			AST Script:
[K				 Delete IfStmt(4348)
[K				 Delete UnaryOperator(4349)
[K				 Delete DeclRefExpr(4350)
[K				 Delete CompoundStmt(4351)
[K				 Delete CallExpr(4352)
[K				 Delete DeclRefExpr(4353)
[K				 Delete DeclRefExpr(4354)
[K	Original Patch
[K		582,584d581
[K		< 	if (!from_buffer) {
[K		< 	    _zip_buffer_free(buffer);
[K		< 	}
[K	Generated Patch
[K		576,583c576,577
[K		< 	zip_error_set(error, ZIP_ER_SEEK, EFBIG);
[K		< 	return -1;
[K		<     }
[K		<
[K		<     if (!_zip_dirent_process_winzip_aes(zde, error)) {
[K		< 	if (!from_buffer) {
[K		< 	    _zip_buffer_free(buffer);
[K		< 	}
[K		---
[K		> 	zip_error_set(error, ZIP_ER_S
[K		>  en
[K
	Successful transformation
[K	
Run time statistics:
-----------------------

[K	Initialization: 0.06711506843566895 seconds
[K	Build Analysis: 153.14611530303955 seconds
[K	Diff Analysis: 1.9586529731750488 seconds
[K	Clone Analysis: 1.3448376655578613 seconds
[K	Map Generation: 1.5622191429138184 seconds
[K
Crochet finished successfully after 189.9359016418457 seconds

